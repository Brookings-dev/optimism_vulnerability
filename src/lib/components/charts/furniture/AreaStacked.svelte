<!--
  @component
  Generates an SVG area shape using the `area` function from [d3-shape](https://github.com/d3/d3-shape) and sets the color via an ordinal scale in `zScale`. It assumes your data is in a [D3 stack format](https://github.com/d3/d3-shape#stack).
 -->
<script>
	import { getContext } from 'svelte';
	import { area, curveMonotoneX } from 'd3-shape';

	/** @type {Function} curve={curveMonotoneX} - a function to apply a curve to the Line. Most likely from [D3's curve functions](https://github.com/d3/d3-shape#curves) */
	export let curve = curveMonotoneX;

	const { data, xGet, yScale, zGet } = getContext('LayerCake');
</script>

<g class="area-group">
	{#each $data as d}
		<path
			class="path-area"
			d={area()
				.x((d) => $xGet(d))
				.y0((d) => $yScale(d[0]))
				.y1((d) => $yScale(d[1]))
				.curve(curve)(d)}
			fill={$zGet(d)}
		/>
	{/each}
</g>
